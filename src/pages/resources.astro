---
import { getAllPosts } from "@/data/post";
import PageLayout from "@/layouts/Base.astro";

const allPosts = await getAllPosts();

// ËµÑÊ∫êÂàÜÁ±ª
const resourceCategories = {
  "Getting Started": {
    icon: "üöÄ",
    description: "Essential guides for beginners",
    resources: allPosts.filter(post => 
      post.data.tags?.some(tag => ['beginners', 'simple', 'guide'].includes(tag)) ||
      post.data.title.toLowerCase().includes('beginner') ||
      post.data.title.toLowerCase().includes('simple')
    ).slice(0, 6)
  },
  "Security & Protection": {
    icon: "üõ°Ô∏è",
    description: "Advanced security and protection guides",
    resources: allPosts.filter(post => 
      post.data.tags?.some(tag => ['security', 'protection', 'drm', 'edit-protection'].includes(tag))
    ).slice(0, 8)
  },
  "Sharing & Distribution": {
    icon: "üîó",
    description: "Modern PDF sharing methods and tools",
    resources: allPosts.filter(post => 
      post.data.tags?.some(tag => ['sharing', 'links', 'qr-code', 'mobile'].includes(tag))
    ).slice(0, 8)
  },
  "Business Solutions": {
    icon: "üíº",
    description: "Enterprise and business-focused resources",
    resources: allPosts.filter(post => 
      post.data.tags?.some(tag => ['business', 'enterprise', 'professional', 'hosting'].includes(tag)) ||
      post.data.title.toLowerCase().includes('business') ||
      post.data.title.toLowerCase().includes('enterprise')
    ).slice(0, 6)
  },
  "Comparisons & Analysis": {
    icon: "‚öñÔ∏è",
    description: "Compare different solutions and methods",
    resources: allPosts.filter(post => 
      post.data.tags?.some(tag => ['comparison', 'vs', 'alternative'].includes(tag)) ||
      post.data.title.toLowerCase().includes('vs') ||
      post.data.title.toLowerCase().includes('alternative')
    ).slice(0, 6)
  }
};

// Â∑•ÂÖ∑ÂíåËµÑÊ∫ê
const toolsAndResources = {
  "Free Tools": [
    { name: "PDF to Link Converter", url: "https://maipdf.com", description: "Convert PDFs to secure links" },
    { name: "QR Code Generator", url: "https://maipdf.com", description: "Generate QR codes for PDFs" },
    { name: "PDF Security Checker", url: "/tools/", description: "Analyze PDF security settings" }
  ],
  "Guides & Tutorials": [
    { name: "Complete Security Guide", url: "/pdf-security/", description: "All security solutions" },
    { name: "Sharing Methods Guide", url: "/pdf-sharing/", description: "Modern sharing techniques" },
    { name: "Learning Center", url: "/pdf-tutorials/", description: "Step-by-step tutorials" }
  ],
  "Comparison Tools": [
    { name: "Solution Comparison", url: "/pdf-comparison/", description: "Compare all PDF solutions" },
    { name: "Cost Calculator", url: "/pdf-comparison/", description: "Calculate total costs" },
    { name: "Feature Matrix", url: "/features/", description: "Compare features side-by-side" }
  ]
};
---

<PageLayout meta={{ 
  title: "PDF Resources Center - Tools, Guides & Solutions | MaiPDF",
  description: "Complete resource center for PDF security, sharing, and management. Access free tools, comprehensive guides, tutorials, comparisons, and business solutions."
}}>
  <div class="max-w-7xl mx-auto">
    <!-- Hero Section -->
    <header class="text-center mb-20">
      <h1 class="text-6xl font-bold mb-8 bg-gradient-to-r from-green-500 via-blue-500 to-purple-500 bg-clip-text text-transparent">
        PDF Resources Center
      </h1>
      <p class="text-2xl text-textColor/80 max-w-4xl mx-auto mb-8">
        Everything you need to master PDF security, sharing, and management. 
        Free tools, comprehensive guides, tutorials, and expert resources all in one place.
      </p>
      
      <!-- Quick Stats -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto">
        <div class="bg-green-500/10 p-4 rounded-lg border border-green-500/20">
          <div class="text-2xl font-bold text-green-500">{allPosts.length}+</div>
          <div class="text-sm text-textColor/70">Expert Guides</div>
        </div>
        <div class="bg-blue-500/10 p-4 rounded-lg border border-blue-500/20">
          <div class="text-2xl font-bold text-blue-500">50+</div>
          <div class="text-sm text-textColor/70">Free Tools</div>
        </div>
        <div class="bg-purple-500/10 p-4 rounded-lg border border-purple-500/20">
          <div class="text-2xl font-bold text-purple-500">100%</div>
          <div class="text-sm text-textColor/70">Free Access</div>
        </div>
        <div class="bg-accent-one/10 p-4 rounded-lg border border-accent-one/20">
          <div class="text-2xl font-bold text-accent-one">24/7</div>
          <div class="text-sm text-textColor/70">Available</div>
        </div>
      </div>
    </header>

    <!-- Resource Categories -->
    <section class="mb-20">
      <h2 class="text-4xl font-bold text-center mb-12 text-accent-one">üìö Resource Categories</h2>
      
      <div class="space-y-16">
        {Object.entries(resourceCategories).map(([categoryName, category], index) => (
          <div class={`${index % 2 === 1 ? 'lg:flex-row-reverse' : ''} lg:flex lg:items-start lg:gap-16`}>
            <!-- Category Info -->
            <div class="lg:flex-1 mb-8 lg:mb-0">
              <div class="flex items-center gap-4 mb-6">
                <div class="text-5xl">{category.icon}</div>
                <div>
                  <h3 class="text-3xl font-bold text-accent-one">{categoryName}</h3>
                  <p class="text-lg text-textColor/80 mt-2">{category.description}</p>
                </div>
              </div>
              
              <div class="bg-accent-one/10 p-6 rounded-lg border border-accent-one/20 mb-6">
                <h4 class="font-semibold text-accent-one mb-3">What You'll Find:</h4>
                <ul class="text-sm space-y-2 text-textColor/80">
                  <li>‚Ä¢ Step-by-step tutorials</li>
                  <li>‚Ä¢ Best practice guides</li>
                  <li>‚Ä¢ Real-world examples</li>
                  <li>‚Ä¢ Expert tips and tricks</li>
                </ul>
              </div>
              
              <a href={`/posts/`} class="inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold text-white bg-gradient-to-r from-accent-one to-accent-two hover:brightness-110 transition-all">
                Explore {categoryName}
              </a>
            </div>

            <!-- Resources Grid -->
            <div class="lg:flex-1">
              <div class="grid md:grid-cols-2 gap-6">
                {category.resources.map(resource => (
                  <article class="bg-bgColor/60 p-6 rounded-xl border border-accent-one/20 hover:border-accent-one/40 transition-all hover:shadow-lg group">
                    <div class="flex items-start gap-3 mb-4">
                      <span class="text-2xl">{category.icon}</span>
                      <h4 class="font-bold text-lg group-hover:text-accent-one transition-colors flex-1">
                        <a href={`/posts/${resource.id}/`}>{resource.data.title}</a>
                      </h4>
                    </div>
                    
                    <p class="text-textColor/80 mb-4 line-clamp-2 text-sm">
                      {resource.data.description}
                    </p>
                    
                    <div class="flex flex-wrap gap-2 mb-4">
                      {resource.data.tags?.slice(0, 3).map(tag => (
                        <span class="text-xs px-2 py-1 bg-accent-one/10 text-accent-one rounded">
                          {tag}
                        </span>
                      ))}
                    </div>
                    
                    <a href={`/posts/${resource.id}/`} class="text-accent-one hover:text-accent-two transition-colors font-medium text-sm">
                      Read Guide ‚Üí
                    </a>
                  </article>
                ))}
              </div>
            </div>
          </div>
        ))}
      </div>
    </section>

    <!-- Tools & Resources -->
    <section class="mb-20">
      <h2 class="text-4xl font-bold text-center mb-12 text-accent-one">üõ†Ô∏è Tools & Resources</h2>
      
      <div class="grid md:grid-cols-3 gap-8">
        {Object.entries(toolsAndResources).map(([categoryName, items]) => (
          <div class="bg-bgColor/60 p-8 rounded-xl border border-accent-one/20">
            <h3 class="text-xl font-bold mb-6 text-accent-one">{categoryName}</h3>
            
            <div class="space-y-4">
              {items.map(item => (
                <a href={item.url} class="block p-4 bg-bgColor/40 rounded-lg border border-accent-one/10 hover:border-accent-one/30 transition-all group">
                  <h4 class="font-semibold text-textColor group-hover:text-accent-one transition-colors mb-2">
                    {item.name}
                  </h4>
                  <p class="text-sm text-textColor/70">{item.description}</p>
                </a>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>

    <!-- Quick Access Links -->
    <section class="mb-20">
      <h2 class="text-4xl font-bold text-center mb-12 text-accent-one">‚ö° Quick Access</h2>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        <a href="/pdf-security/" class="p-6 bg-red-500/10 rounded-xl border border-red-500/20 hover:border-red-500/40 transition-all text-center group">
          <div class="text-4xl mb-3">üõ°Ô∏è</div>
          <h3 class="font-semibold text-lg text-red-600 group-hover:text-red-700 transition-colors mb-2">
            PDF Security
          </h3>
          <p class="text-sm text-textColor/70">Complete protection solutions</p>
        </a>
        
        <a href="/pdf-sharing/" class="p-6 bg-blue-500/10 rounded-xl border border-blue-500/20 hover:border-blue-500/40 transition-all text-center group">
          <div class="text-4xl mb-3">üîó</div>
          <h3 class="font-semibold text-lg text-blue-600 group-hover:text-blue-700 transition-colors mb-2">
            PDF Sharing
          </h3>
          <p class="text-sm text-textColor/70">Modern sharing methods</p>
        </a>
        
        <a href="/pdf-qr-code/" class="p-6 bg-purple-500/10 rounded-xl border border-purple-500/20 hover:border-purple-500/40 transition-all text-center group">
          <div class="text-4xl mb-3">üì±</div>
          <h3 class="font-semibold text-lg text-purple-600 group-hover:text-purple-700 transition-colors mb-2">
            QR Codes
          </h3>
          <p class="text-sm text-textColor/70">Mobile access solutions</p>
        </a>
        
        <a href="/tools/" class="p-6 bg-green-500/10 rounded-xl border border-green-500/20 hover:border-green-500/40 transition-all text-center group">
          <div class="text-4xl mb-3">üõ†Ô∏è</div>
          <h3 class="font-semibold text-lg text-green-600 group-hover:text-green-700 transition-colors mb-2">
            All Tools
          </h3>
          <p class="text-sm text-textColor/70">Complete tool suite</p>
        </a>
        
        <a href="/pdf-comparison/" class="p-6 bg-yellow-500/10 rounded-xl border border-yellow-500/20 hover:border-yellow-500/40 transition-all text-center group">
          <div class="text-4xl mb-3">‚öñÔ∏è</div>
          <h3 class="font-semibold text-lg text-yellow-600 group-hover:text-yellow-700 transition-colors mb-2">
            Comparisons
          </h3>
          <p class="text-sm text-textColor/70">Compare solutions</p>
        </a>
        
        <a href="/pdf-problems/" class="p-6 bg-orange-500/10 rounded-xl border border-orange-500/20 hover:border-orange-500/40 transition-all text-center group">
          <div class="text-4xl mb-3">üö®</div>
          <h3 class="font-semibold text-lg text-orange-600 group-hover:text-orange-700 transition-colors mb-2">
            Problem Solver
          </h3>
          <p class="text-sm text-textColor/70">Fix PDF issues</p>
        </a>
        
        <a href="/pdf-tutorials/" class="p-6 bg-indigo-500/10 rounded-xl border border-indigo-500/20 hover:border-indigo-500/40 transition-all text-center group">
          <div class="text-4xl mb-3">üìö</div>
          <h3 class="font-semibold text-lg text-indigo-600 group-hover:text-indigo-700 transition-colors mb-2">
            Tutorials
          </h3>
          <p class="text-sm text-textColor/70">Learn step-by-step</p>
        </a>
        
        <a href="/faq/" class="p-6 bg-pink-500/10 rounded-xl border border-pink-500/20 hover:border-pink-500/40 transition-all text-center group">
          <div class="text-4xl mb-3">‚ùì</div>
          <h3 class="font-semibold text-lg text-pink-600 group-hover:text-pink-700 transition-colors mb-2">
            FAQ
          </h3>
          <p class="text-sm text-textColor/70">Common questions</p>
        </a>
      </div>
    </section>

    <!-- Latest Resources -->
    <section class="mb-20">
      <h2 class="text-4xl font-bold text-center mb-12 text-accent-one">üÜï Latest Resources</h2>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {allPosts.slice(0, 9).map(post => (
          <article class="bg-bgColor/60 p-6 rounded-xl border border-accent-one/20 hover:border-accent-one/40 transition-all hover:shadow-lg group">
            <div class="flex items-start gap-3 mb-4">
              <span class="text-2xl">üìÑ</span>
              <h3 class="font-bold text-lg group-hover:text-accent-one transition-colors flex-1">
                <a href={`/posts/${post.id}/`}>{post.data.title}</a>
              </h3>
            </div>
            
            <p class="text-textColor/80 mb-4 line-clamp-3 text-sm">
              {post.data.description}
            </p>
            
            <div class="flex flex-wrap gap-2 mb-4">
              {post.data.tags?.slice(0, 4).map(tag => (
                <span class="text-xs px-2 py-1 bg-accent-one/10 text-accent-one rounded">
                  {tag}
                </span>
              ))}
            </div>
            
            <a href={`/posts/${post.id}/`} class="text-accent-one hover:text-accent-two transition-colors font-medium text-sm">
              Read Resource ‚Üí
            </a>
          </article>
        ))}
      </div>
    </section>

    <!-- CTA Section -->
    <section class="text-center bg-gradient-to-r from-green-500/10 via-blue-500/10 to-purple-500/10 p-12 rounded-xl">
      <h2 class="text-4xl font-bold mb-6 text-accent-one">Ready to Master PDF Security?</h2>
      <p class="text-xl text-textColor/80 max-w-3xl mx-auto mb-8">
        Access all these resources and start protecting your PDFs today. 
        Join thousands of professionals who trust MaiPDF for secure document management.
      </p>
      
      <div class="flex flex-col sm:flex-row justify-center gap-6">
        <a href="https://maipdf.com" class="inline-flex items-center justify-center px-10 py-5 rounded-lg font-bold text-white bg-gradient-to-r from-green-500 to-blue-500 hover:brightness-110 transition-all text-xl shadow-lg">
          üöÄ Start Free Trial
        </a>
        <a href="/posts/" class="inline-flex items-center justify-center px-10 py-5 rounded-lg font-bold border-2 border-accent-one text-accent-one hover:bg-accent-one/10 transition-all text-xl">
          üìö Browse All Resources
        </a>
      </div>
    </section>
  </div>
</PageLayout>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
